<div class="operations-container">
  <!-- Header -->
  <header class="operations-header">
    <img src="jd.png" alt="JD" />
    <h1>GestÃ£o de OperaÃ§Ãµes</h1>
    <img src="LargestGreenest.jpg" alt="Bracell" />
  </header>

  <!-- Navigation Button -->
  <div class="navigation-section">
    <button class="back-button" routerLink="/dashboard">
      <span class="button-icon">ğŸ </span>
      Voltar ao Dashboard
    </button>
  </div>

  <!-- Stats Summary -->
  <div class="stats-container">
    <div class="stat-card">
      <div class="stat-icon">âš¡</div>
      <div class="stat-content">
        <div class="stat-value">{{ operations.length }}</div>
        <div class="stat-label">Total de OperaÃ§Ãµes</div>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">ğŸ”„</div>
      <div class="stat-content">
        <div class="stat-value">{{ getActiveOperations() }}</div>
        <div class="stat-label">OperaÃ§Ãµes Ativas</div>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">âœ…</div>
      <div class="stat-content">
        <div class="stat-value">{{ getCompletedOperations() }}</div>
        <div class="stat-label">ConcluÃ­das</div>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">ğŸŒ±</div>
      <div class="stat-content">
        <div class="stat-value">{{ getUniqueTypes() }}</div>
        <div class="stat-label">Tipos de OperaÃ§Ã£o</div>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="loading-card">
      <div class="loading-spinner">ğŸ”„</div>
      <h3>Carregando OperaÃ§Ãµes...</h3>
      <p>Buscando dados das operaÃ§Ãµes no sistema...</p>
    </div>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error-container">
    <div class="error-card">
      <div class="error-icon">âš ï¸</div>
      <h3>Erro ao Carregar Dados</h3>
      <p>{{ error }}</p>
      <button class="retry-button" (click)="ngOnInit()">
        <span class="button-icon">ğŸ”„</span>
        Tentar Novamente
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <div *ngIf="!loading && !error" class="content-section">
    <!-- Operations List -->
    <div class="operations-section">
      <div class="operations-card">
        <div class="operations-header-title">
          <h3>ğŸ“‹ Lista de OperaÃ§Ãµes</h3>
          <div class="operations-actions">
            <button class="export-button">
              <span class="button-icon">ğŸ“Š</span>
              Exportar
            </button>
          </div>
        </div>
        
        <div class="operations-grid" *ngIf="operations.length > 0">
          <div class="operation-card" *ngFor="let op of operations">
            <div class="operation-header">
              <div class="operation-type">
                <span class="type-icon">{{ getOperationIcon(op.operation_type) }}</span>
                {{ op.operation_type || 'Sem tipo' }}
              </div>
              <div class="operation-status" [class]="getOperationStatusClass(op)">
                {{ getOperationStatus(op) }}
              </div>
            </div>
            
            <div class="operation-content">
              <div class="operation-info">
                <div class="info-item">
                  <span class="info-icon">ğŸ•’</span>
                  <div class="info-content">
                    <span class="info-label">InÃ­cio:</span>
                    <span class="info-value">{{ op.start_date ? (op.start_date | date:'dd/MM/yyyy HH:mm') : '-' }}</span>
                  </div>
                </div>
                
                <div class="info-item">
                  <span class="info-icon">ğŸ</span>
                  <div class="info-content">
                    <span class="info-label">Fim:</span>
                    <span class="info-value">{{ op.end_date ? (op.end_date | date:'dd/MM/yyyy HH:mm') : '-' }}</span>
                  </div>
                </div>
                
                <div class="info-item">
                  <span class="info-icon">ğŸŒ¾</span>
                  <div class="info-content">
                    <span class="info-label">Fazenda:</span>
                    <span class="info-value">{{ op.plots?.farm_id || '-' }}</span>
                  </div>
                </div>
                
                <div class="info-item">
                  <span class="info-icon">ğŸŒ±</span>
                  <div class="info-content">
                    <span class="info-label">TalhÃ£o:</span>
                    <span class="info-value">{{ op.plots?.name || 'Sem talhÃ£o' }}</span>
                  </div>
                </div>
              </div>
              
              <div class="operation-footer">
                <span class="operation-id">ID: {{ op.id }}</span>
                <div class="operation-actions">
                  <button class="action-btn view-btn" title="Visualizar">ğŸ‘ï¸</button>
                  <button class="action-btn edit-btn" title="Editar">âœï¸</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && operations.length === 0" class="empty-container">
      <div class="empty-card">
        <div class="empty-icon">ğŸ“­</div>
        <h3>Nenhuma OperaÃ§Ã£o Encontrada</h3>
        <p>NÃ£o hÃ¡ operaÃ§Ãµes cadastradas no sistema.</p>
        <button class="add-operation-button">
          <span class="button-icon">â•</span>
          Adicionar Nova OperaÃ§Ã£o
        </button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="operations-footer">
    <div class="footer-info">
      <span>âš¡ Total de operaÃ§Ãµes: {{ operations.length }}</span>
      <span>ğŸ“Š Sistema Agro-telematics v1.0</span>
    </div>
  </footer>
</div>
